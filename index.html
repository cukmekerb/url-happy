<!doctype html>
<html>

<head>
    <title>HappyURL - Make your URL happy and wholesome</title>
    <!--metatags-->
    <link rel="manifest" href="manifest.json">
    <link rel="shortcut icon" href="rainbow.png">
    <meta charset="UTF-8">
    <meta name="title" content="HappyURL - Make your URL happy and wholesome">
    <meta name="description" content="HappyURL - Make your URL happy and wholesome, better than any link shortener">
    <meta name="keywords" content="link,shortener,happy,url,happyurl,shadyurl,shorten,bitly,rebrandly,web,internet">
    <meta name="robots" content="index, follow">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="language" content="English">
    <meta property="og:type" content="website">
    <meta property="og:url" content="http://happyurl.gq/">
    <meta property="og:title" content="HappyURL - Make your URL happy and wholesome">
    <meta property="og:description" content="Make your URL happy and wholesome, better than any link shortener">
    <meta property="og:image" content="rainbow.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="http://happyurl.gq/">
    <meta property="twitter:title" content="HappyURL - Make your URL happy and wholesome">
    <meta property="twitter:description" content="Make your URL happy and wholesome, better than any link shortener">
    <meta property="twitter:image" content="rainbow.png">
    <!--no more metatags-->
    <link rel="stylesheet" href="signup.css">
    <link href="https://fonts.googleapis.com/css?family=Poppins:300&display=swap" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1, height=device-height" />
    <script src="//cdn.rawgit.com/erosson/swarm-numberformat/v0.1.0/dist/swarm-numberformat.min.js" rel="preload" defer></script>
    <script>
        function validURL(str) {
            var pattern = new RegExp('^(https?:\\/\\/)?' + // protocol
                '((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|' + // domain name
                '((\\d{1,3}\\.){3}\\d{1,3}))' + // OR ip (v4) address
                '(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*' + // port and path
                '(\\?[;&a-z\\d%_.~+=-]*)?' + // query string
                '(\\#[-a-z\\d_]*)?$', 'i'); // fragment locator
            return !!pattern.test(str);
        }
        function checkinput(data) {
            if (data.keyCode == 13) {
                makeurl()
            }
        }
        function makeurl() {
            if (validURL(document.getElementById("urlin").value)) {
                document.getElementById("output").innerHTML = "<p id='subbed'>Working...</p>";
                fetch("https://script.google.com/macros/s/AKfycbw-yBhJHNpIMORhXiBhZM79JOlSCwqDsa9nzQasOUyefqumM5k/exec?url=" + encodeURIComponent(document.getElementById("urlin").value))
                    .then(a => a.json())
                    .then(response => {
                        document.getElementById("output").innerHTML = "<p id='subbed'>Your link is available at <a href='https://happinesslife.tk/" + response.data[0] + "' target='_blank'>happinesslife.tk/" + response.data[0] + "</a></p>";
                    });
            }
            else {
                document.getElementById("output").innerHTML = "<p id='notsubbed'>Not a valid URL</p>";
            }
        }
        function init() {
            fetch("https://script.google.com/macros/s/AKfycbw1J_6ASrTYStP_boCI1VmTYdf7rNFODwism9BaBCaotyNqjaM/exec")
                .then(a => a.json())
                .then(a => {
                    document.getElementById("over500").innerHTML = "Over " + numberformat.format(a.length - 1) + " links shortened!";
                })
        }
    </script>
</head>

<body onload="init()">
    <h1 id="signup">HappyUrl</h1>
    <p style="width: 100%; text-align: center; font-family:sans-serif; font-size: 20px; margin-top: -50px;">Make your
        URL happy and wholesome</p>
    <span class="spnn"></span> <input placeholder="enter your URL here..." onkeypress="checkinput(event)"
        id="urlin"><span class="spnn"></span>
    <div class="openbutton" onclick="makeurl()"><span
            style="vertical-align: middle; display: inline-block; line-height: 50px;">Happy-ify!</span></div>
    <div id="output"></div>
    <br><br>
    <h2 id="over500"></h2>
    <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5f7150949d870b5a"></script>

</body>

</html>